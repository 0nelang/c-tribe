$(function(){function e(){function e(){var e=o.x,n=o.y;t.forEach(function(t,o,i){var a=i[o+1]||i[0];t.x=e,t.y=n,t.draw(),e+=.2*(a.x-t.x),n+=.2*(a.y-t.y)})}function n(){e(),requestAnimationFrame(n)}var t=[],o={x:0,y:0},i=function(){this.x=0,this.y=0,this.node=function(){var e=document.createElement("div");return e.className="trail",document.body.appendChild(e),e}()};i.prototype.draw=function(){this.node.style.left=this.x+"px",this.node.style.top=this.y+"px"};for(var a=0;a<30;a++){var s=new i;t.push(s)}addEventListener("mousemove",function(e){o.x=e.pageX,o.y=e.pageY}),n()}function n(){$(".anim").each(function(){var e=$(this).offset().top+50,n=$(window).scrollTop()+$(window).height();n>e?$(this).addClass("animate-in"):e<100&&$(this).addClass("animate-in")})}function t(){$(".header-1").each(function(){var e=$(this).offset().top,n=$(this).offset().top+$(this).outerHeight(!0),t=$(window).scrollTop(),o=$("header.header");t>e&&t<n&&o.removeClass("header__black")}),$(".header-2").each(function(){var e=$(this).offset().top,n=$(this).offset().top+$(this).outerHeight(!0),t=$(window).scrollTop(),o=$("header.header");t>e&&t<n&&o.addClass("header__black")})}$(document).mousemove(function(e){$(".cursor").eq(0).css({left:e.clientX,top:e.clientY}),setTimeout(function(){$(".cursor").eq(1).css({left:e.clientX,top:e.clientY})},100)}),e(),$(window).scroll(function(){n(),t()});var o=$("header.header"),i=$(".marquee"),a=$(".has-scroll"),s=$(".cursor-img"),r=$(".page-project__two"),u=$(".video-wrap");if(o){$(window).scroll(function(){var e=$(window).scrollTop();e>=10?o.addClass("sticky"):o.removeClass("sticky")});var d=o.find(".header__menu .menu-toggle"),c=o.find(".main-menu"),f=c.find(".main-menu__fade-top"),l=c.find(".main-menu__fade-bot"),m=c.find(".main-menu__bg"),h=c.find("ul"),v=h.find(".menu-link");d.on("click",function(){$("body").hasClass("menu-open")?($("body").removeClass("menu-open"),c.removeClass("show"),m.fadeOut(400),setTimeout(function(){h.slideUp(200)},100),setTimeout(function(){f.css("transform","translate(0px, -100%)"),l.css("transform","translate(0px, 100%)")},400),setTimeout(function(){c.fadeOut(0)},800)):($("body").addClass("menu-open"),c.addClass("show"),c.fadeIn(0),setTimeout(function(){f.css("transform","translate(0px, 0)"),l.css("transform","translate(0px, 0)")},100),setTimeout(function(){m.fadeIn(400)},500),setTimeout(function(){h.slideDown(200)},600))}),v.each(function(){var e=$(this),n=e.data("bg"),t=e.data("text");e.on("mouseover",function(){t&&(m.find("span").text(t),setTimeout(function(){m.find(".bg-hover").removeClass("animate"),setTimeout(function(){m.find("span").fadeIn(0)},200)},200)),n?(m.find(".bg-hover").css("background-image","url("+n+")"),setTimeout(function(){m.find(".bg-hover").fadeIn(200),setTimeout(function(){m.find(".bg-hover").addClass("animate")},200)},200)):(m.find(".bg-hover").css("background","#000"),setTimeout(function(){m.find(".bg-hover").slideDown(400),setTimeout(function(){m.find(".bg-hover").addClass("animate")},200)},200))}),e.on("mouseleave",function(){m.find("span").fadeOut(0),m.find(".bg-hover").fadeOut(400)})})}if(i&&i.marquee({duration:1e4,delayBeforeStart:0,direction:"left",duplicated:!0}),a&&a.on("click",function(e){var n=void 0!=$(this).data("top")?$(this).data("top"):0;if(""!==this.hash){e.preventDefault();var t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top-n},500,function(){history.pushState(null,null,t)})}}),s&&s.each(function(){var e=$(this);e.on("mouseover",function(){$(".cursor").addClass("hasimg"),$(".trail").addClass("hasimg")}),e.on("mouseleave",function(){$(".cursor").removeClass("hasimg"),$(".trail").removeClass("hasimg")})}),r){var p=r.find(".wrap"),g=r.find(".item");g.each(function(){var e=$(this),n=e.data("bg");e.on("mouseover",function(){p.css("background-image",'url("'+n+'")')}),e.on("mouseleave",function(){p.css("background-image","")})})}u&&u.each(function(){function e(){i.hide(),o.attr("controls","")}function n(){i.show(),o.removeAttr("controls")}var t=$(this),o=t.find("video"),i=t.find(".btn-play");o.removeAttr("controls"),o.on("click",function(){o.get(0).play()}),o.on({play:e,pause:n})})});
